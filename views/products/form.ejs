<div class="card max-w-4xl mx-auto">
    <div class="card-header bg-nexus-dark text-white">
      <h4 class="text-lg font-semibold">
        <i class="fas fa-box"></i> 
        <%= product.id ? 'Modifica Prodotto' : 'Nuovo Prodotto' %>
      </h4>
    </div>
    <div class="card-body">
      <form action="<%= action %>" method="POST" onsubmit="return validateForm('productForm')" id="productForm">
        <div class="mb-4">
          <label for="name" class="form-label">Nome Prodotto/Servizio *</label>
          <input type="text" class="form-input" id="name" name="name" 
                 value="<%= product.name || '' %>" required>
        </div>
        
        <div class="mb-4">
          <label for="energy_type" class="form-label">Tipo Energia *</label>
          <select class="form-select" id="energy_type" name="energy_type" required>
            <option value="">Seleziona tipo...</option>
            <option value="electricity" <%= (product.energy_type === 'electricity') ? 'selected' : '' %>>
              Energia Elettrica
            </option>
            <option value="gas" <%= (product.energy_type === 'gas') ? 'selected' : '' %>>
              Gas Naturale
            </option>
            <option value="both" <%= (product.energy_type === 'both') ? 'selected' : '' %>>
              Dual Fuel (Elettricità + Gas)
            </option>
          </select>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <label for="supplier" class="form-label">Fornitore</label>
            <input type="text" class="form-input" id="supplier" name="supplier" 
                   value="<%= product.supplier || '' %>">
          </div>
          <div>
            <label for="base_price" class="form-label">Prezzo Base (€)</label>
            <input type="number" step="0.01" min="0" class="form-input" id="base_price" name="base_price" 
                   value="<%= product.base_price || '' %>">
          </div>
        </div>
        
        <div class="mb-4">
          <label for="description" class="form-label">Descrizione</label>
          <textarea class="form-input h-24" id="description" name="description"><%= product.description || '' %></textarea>
        </div>
        
        <div class="mb-6">
          <div class="flex items-center">
            <input type="checkbox" id="is_active" name="is_active" class="h-4 w-4 text-nexus-red focus:ring-nexus-red border-gray-300 rounded"
                   <%= product.is_active ? 'checked' : '' %>>
            <label for="is_active" class="ml-2 block text-sm text-gray-900">
              Prodotto attivo (disponibile per i consulenti)
            </label>
          </div>
        </div>
        
        <div class="flex justify-between">
          <a href="/products" class="btn-outline">
            <i class="fas fa-arrow-left"></i> Annulla
          </a>
          <button type="submit" class="btn-primary">
            <i class="fas fa-save"></i> Salva
          </button>
        </div>
      </form>
    </div>
  </div>