<div class="card max-w-4xl mx-auto">
    <div class="card-header bg-nexus-dark text-white flex justify-between items-center">
      <h4 class="text-lg font-semibold"><i class="fas fa-box"></i> Dettaglio Prodotto</h4>
      <div class="space-x-2">
        <a href="/products" class="text-white bg-gray-600 hover:bg-gray-700 px-3 py-1 rounded text-sm">
          <i class="fas fa-list"></i> Listino
        </a>
        <a href="/products/edit/<%= product.id %>" class="text-white bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm">
          <i class="fas fa-edit"></i> Modifica
        </a>
      </div>
    </div>
    <div class="card-body">
      <div class="mb-6">
        <div class="flex flex-wrap justify-between items-start mb-4">
          <div>
            <h2 class="text-2xl font-bold"><%= product.name %></h2>
            <p class="text-lg">
              <%= product.energy_type === 'electricity' ? 'Energia Elettrica' : 
                 product.energy_type === 'gas' ? 'Gas Naturale' : 
                 product.energy_type === 'both' ? 'Dual Fuel (Elettricità + Gas)' : product.energy_type %>
              <% if (product.supplier) { %>
                - <%= product.supplier %>
              <% } %>
            </p>
          </div>
          <span class="px-3 py-1 text-sm font-semibold rounded-full
            <%= product.is_active ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800' %>
          ">
            <%= product.is_active ? 'Attivo' : 'Disattivato' %>
          </span>
        </div>
        
        <div class="mb-6">
          <h6 class="text-sm font-semibold text-gray-600 uppercase mb-2">Prezzo Base</h6>
          <p class="mb-1 font-bold text-xl">
            <%= product.base_price ? '€ ' + product.base_price.toFixed(2) : 'Non specificato' %>
          </p>
        </div>
        
        <% if (product.description) { %>
          <div class="mb-6">
            <h6 class="text-sm font-semibold text-gray-600 uppercase mb-2">Descrizione</h6>
            <div class="bg-gray-50 p-4 rounded border border-gray-200">
              <p class="whitespace-pre-line"><%= product.description %></p>
            </div>
          </div>
        <% } %>
        
        <div class="border-t border-gray-200 pt-4 text-xs text-gray-500">
          <p>Creato da: <%= user.role === 'administrator' ? 'Amministratore' : 'Consulente' %></p>
          <p>Data creazione: <%= new Date(product.created_at).toLocaleString() %></p>
        </div>
      </div>
      
      <div class="flex justify-between mt-6">
        <a href="/products" class="btn-outline">
          <i class="fas fa-arrow-left"></i> Torna al listino
        </a>
        <div class="space-x-2">
          <a href="/products/delete/<%= product.id %>" class="btn-outline-red delete-btn" 
             onclick="return confirm('Sei sicuro di voler eliminare questo prodotto?')">
            <i class="fas fa-trash"></i> Elimina
          </a>
          <a href="/products/edit/<%= product.id %>" class="btn-primary">
            <i class="fas fa-edit"></i> Modifica
          </a>
        </div>
      </div>
    </div>
  </div>